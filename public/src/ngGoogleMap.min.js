/*! ngGoogleMap 2013-12-15 */
!function(a){"use strict";a.module("ngGoogleMap",[]).directive("ngGoogleMap",[function(){var b={watch:function(a,b,c){return a.$watch(b,c)},watchCollection:function(a,b,c){return a.$watchCollection(b,c)}},c={resize:function(a,b){var c="resize";return a.$on(c,function(){google.maps.event.trigger(b,c)})}},d={zoom:function(a,c){return b.watch(a,"zoom",function(){c.setZoom(a.zoom)})},center:function(a,c){return b.watch(a,"center",function(){a.center&&c.setCenter(a.center)})},markers:function(a,c){var d=function(a,b){for(var c in a)if(a[c]===b)return!0;return!1},e=function(){var b=a.lastMarkers;if(b)for(var c in b)d(a.markers,b[c])||b[c].setMap(null)};return b.watchCollection(a,"markers",function(){{var b=a.markers;a.lastMarkers}if(e(),b)for(var d in b)b[d].setMap(c);a.lastMarkers=b})}};return{scope:{center:"=",zoom:"=",markers:"=",mapEvents:"="},link:function(b,e){var f,g=[];g.push(b.$watch("ready",function(){var h={center:b.center||new google.maps.LatLng(25.041749,121.515114),zoom:b.zoom||8};f=new google.maps.Map(e[0],h);var i=b.mapEvents;a.forEach(i,function(a,b){google.maps.event.addListener(f,b,a)});for(var j in d)g.push(d[j](b,f));for(var j in c)g.push(c[j](b,f))})),b.$on("$destroy",function(){for(var a in g)g[a]();google.maps.event.clearInstanceListeners(f)})}}}])}(angular);